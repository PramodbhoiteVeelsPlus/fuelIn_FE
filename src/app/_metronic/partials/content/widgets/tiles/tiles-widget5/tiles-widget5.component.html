<div class="card">
  <div class="card-body">
    <div class="row mb-2">
      <div class="col-sm-7">
      </div>
      <div class="col-sm-5">
        <div class="text-sm-end">
          <button type="button" class="btn btn-success" (click)="openAcBlcModal(openModal)">
            Update Opening Accounting Balance
          </button>
        </div>
      </div>
      <ng-template #openModal let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h4 class="modal-title">
            <label>
              <h4>
                <strong>
                  Update Opening Accounting Balance <br>
                </strong>
              </h4>
            </label>
          </h4>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col col-xl-12 col-lg-12">
              <div class="card-body table-responsive">
                <table class="table table-hover table-striped">
                  <thead>
                    <tr>
                      <th style="text-align: left;"><b> Account </b></th>
                      <th style="text-align: left;"><b> Date </b></th>
                      <th style="text-align: left;"><b> Total Amount</b></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td style="text-align: left;">
                        <select class="form-control" [(ngModel)]="bankId" [ngModelOptions]="{standalone: true}"
                          (change)="getDetailsByBank($event)" required>
                          <option value="">Select Account</option>
                          <option value="Oil Company">Oil Company</option>
                          <option *ngFor="let data of bankAllAccList" [value]="data.bankDetailsId">
                            {{data.bankName}}-{{data.accountNumber}}
                          </option>
                          <option value="Cash">Cash</option>
                        </select>
                      </td>
                      <td *ngIf="showDefault" style="text-align: left;">
                        <input class="form-control" placeholder="DD-MM-YYYY" name="date" (click)="date.toggle()"
                          readonly style="background-color: #ffffff;" ngbDatepicker #date="ngbDatepicker">
                      </td>
                      <td *ngIf="showDefault" style="text-align: left;">
                        <input type="number" class="form-control" placeholder="Total Amount" />
                      </td>
                      <td *ngIf="showBankAc" style="text-align: left;">
                        <input class="form-control" placeholder="DD-MM-YYYY" name="date" (click)="date.toggle()"
                          readonly style="background-color: #ffffff;" [(ngModel)]="bankAcDate"
                          [ngModelOptions]="{standalone: true}" ngbDatepicker #date="ngbDatepicker">
                      </td>
                      <td *ngIf="showBankAc" style="text-align: left;">
                        <input type="number" class="form-control" [(ngModel)]="bankAcTotalAmount"
                          style="text-align: left;" [ngModelOptions]="{standalone: true}" placeholder="Total Amount" />
                      </td>
                      <td *ngIf="showOilCoAc" style="text-align: left;">
                        <input class="form-control" placeholder="DD-MM-YYYY" name="date" (click)="date.toggle()"
                          readonly style="background-color: #ffffff;" [(ngModel)]="oilCoAcDate"
                          [ngModelOptions]="{standalone: true}" ngbDatepicker #date="ngbDatepicker">
                      </td>
                      <td *ngIf="showOilCoAc" style="text-align: left;">
                        <input type="number" class="form-control" [(ngModel)]="oilCoAcTotalAmount"
                          style="text-align: left;" [ngModelOptions]="{standalone: true}" placeholder="Total Amount" />
                      </td>
                      <td *ngIf="showCashAc" style="text-align: left;">
                        <input class="form-control" placeholder="DD-MM-YYYY" name="date" (click)="date.toggle()"
                          readonly style="background-color: #ffffff;" [(ngModel)]="cashAcDate"
                          [ngModelOptions]="{standalone: true}" ngbDatepicker #date="ngbDatepicker">
                      </td>
                      <td *ngIf="showCashAc" style="text-align: left;">
                        <input type="number" class="form-control" [(ngModel)]="cashAcTotalAmount"
                          style="text-align: left;" [ngModelOptions]="{standalone: true}" placeholder="Total Amount" />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="showBankAc">
            <div class="col col-xl-12 col-lg-12">
              <div class="row">
                <div class="col-md-5">
                </div>
                <div class="col-auto">
                  <button *ngIf="!bankAcUpdate" type="submit" class="btn btn-md btn-primary"
                    (click)="submitBankAcBalance()">Submit</button>
                  <button *ngIf="bankAcUpdate" type="submit" class="btn btn-md btn-primary"
                    (click)="updateBankAcBalance()">Update</button>
                </div>
                <div class="col-auto">
                  <button type="submit" class="btn btn-secondary" (click)=bankAcBlcClear()>Close</button>
                </div>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="showCashAc">
            <div class="col col-xl-12 col-lg-12">
              <div class="row">
                <div class="col-md-5">
                </div>
                <div class="col-auto">
                  <button *ngIf="!cashAcUpdate" type="submit" class="btn btn-md btn-primary"
                    (click)="submitCashAcBalance()">Submit</button>
                  <button *ngIf="cashAcUpdate" type="submit" class="btn btn-md btn-primary"
                    (click)="updateCashAcBalance()">Update</button>
                </div>
                <div class="col-auto">
                  <button type="submit" class="btn btn-secondary" (click)=cashAcBlcClear()>Close</button>
                </div>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="showOilCoAc">
            <div class="col col-xl-12 col-lg-12">
              <div class="row">
                <div class="col-md-5">
                </div>
                <div class="col-auto">
                  <button *ngIf="!oilCoAcUpdate" type="submit" class="btn btn-md btn-primary"
                    (click)="submitOilCoAcBalance()">Submit</button>
                  <button *ngIf="oilCoAcUpdate" type="submit" class="btn btn-md btn-primary"
                    (click)="updateOilCoAcBalance()">Update</button>
                </div>
                <div class="col-auto">
                  <button type="submit" class="btn btn-secondary" (click)=OilCoAcBlcClear()>Close</button>
                </div>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="showDefault">
            <div class="col col-xl-12 col-lg-12">
              <div class="row">
                <div class="col-md-5">
                </div>
                <div class="col-auto">
                  <button type="submit" class="btn btn-secondary" (click)=OilCoAcBlcClear()>Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </div>

    <div class="modal-body">
      <form [formGroup]="filterForm">
        <br>
        <div class="row">
          <label for="example-text-input" class="col-auto col-form-label"><b>Date Range :</b></label>
          <div class="col-md-2">
            <input class="form-control" placeholder="DD-MM-YYYY" readonly style="background-color: #ffffff;"
              name="startDate" ngbTooltip="Start Date" (click)="startDate.toggle()" ngbDatepicker
              #startDate="ngbDatepicker" formControlName="startDate">
          </div>
          <div class="col-md-2">
            <input class="form-control" placeholder="DD-MM-YYYY" readonly style="background-color: #ffffff;"
              name="endDate" ngbTooltip="End Date" (click)="endDate.toggle()" ngbDatepicker #endDate="ngbDatepicker"
              formControlName="endDate">
          </div>
          <div class="col-auto">
            <button type="button" class="btn btn-md btn-primary" (click)="filter()">
              Submit
            </button>
          </div>
          <div class="col-auto">
            <button type="button" class="btn btn-md btn-secondary" (click)="cancel()">
              Cancel
            </button>
          </div>
          <div class="col-sm-3">
            <div class="text-sm-end">
              <span style="font-size: 35px;cursor: pointer;" ngbTooltip="Download PDF" placement="bottom"
                (click)="exportToPDF()"><i class="fas fa-file-pdf" style="font-size: 30px;"></i></span> <br>
            </div>
          </div>
          <div class="col-sm-1">
            <div class="text-sm-end">
              <span *ngIf="isFilter">
                <span *ngIf="isOILBook" (click)="isOILBookFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <span *ngIf="isBankBook" (click)="isBankBookFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <span *ngIf="isPOSBook" (click)="isPOSBookFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <span *ngIf="isCASHBook" (click)="isCASHBookFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <br>
              </span>
              <span *ngIf="!isFilter">
                <span *ngIf="isOILBook" (click)="isOILBookNoFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <span *ngIf="isBankBook" (click)="isBankBookNoFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <span *ngIf="isPOSBook" (click)="isPOSBookNoFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <span *ngIf="isCASHBook" (click)="isCASHBookNoFilter()" style="font-size: 35px;cursor: pointer;"
                  ngbTooltip="Download CSV" placement="bottom"><i class="fas fa-file-csv"
                    style="font-size: 30px;"></i></span>
                <br>
              </span>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-auto">
            <div class="mt-3">
              <div class="form-check mb-3">
                <input class="form-check-input" type="radio" name="formRadios" id="formRadios1" (change)="filter1()"
                  checked>
                <label class="form-check-label" for="formRadios1">
                  Oil Company
                </label>
              </div>
            </div>
          </div>
          <div class="col-auto">
            <div class="mt-3">
              <div class="form-check mb-3">
                <input class="form-check-input" type="radio" name="formRadios" id="Bank" (change)="filterByBANKBook()"
                  value="Bank">
                <label class="form-check-label" for="Bank">
                  Bank
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="mt-3">
              <select *ngIf="isBankBook" class="form-select" formControlName="bankAccId"
                (change)="filterByBANKACIdBook($event)">
                <option value="">Select Bank A/c</option>
                <option *ngFor="let data of bankAllAccList" [value]="data.bankDetailsId">
                  {{data.bankName}}-{{data.accountNumber}}
                </option>
              </select>
              <select *ngIf="!isBankBook" class="form-select" formControlName="bankAccId"
                (change)="filterByBANKACIdBook($event)">
                <option value="">Select Bank A/c</option>
              </select>
            </div>
          </div>
          <div class="col-auto">
            <div class="mt-3">
              <div class="form-check mb-3">
                <input class="form-check-input" type="radio" name="formRadios" id="POS" (change)="filterByPOSBook()"
                  value="POS">
                <label class="form-check-label" for="POS">
                  POS
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="mt-3">
              <select *ngIf="isPOSBook" class="form-select" formControlName="posId" (change)="getBankAccByPOS($event)">
                <option value="">Select POS</option>
                <option *ngFor="let data of fuelTerminalDetails" [value]="data.fuelTerminalsId">
                  {{data.terminalName}}
                </option>
              </select>
              <select *ngIf="!isPOSBook" class="form-select" formControlName="posId" (change)="getBankAccByPOS($event)">
                <option value="">Select POS</option>
              </select>
            </div>
          </div>
          <div class="col-auto">
            <div class="mt-3">
              <div class="form-check mb-3">
                <input class="form-check-input" type="radio" name="formRadios" id="Cash" (change)="filterByCASH()"
                  value="Cash">
                <label class="form-check-label" for="Cash">
                  Cash
                </label>
              </div>
            </div>
          </div>
        </div>
      </form>
      <hr>
      <span *ngIf="isFilter">
        <div class="row">
          <div class="col-sm-10">
            <div class="search-box me-4 mb-4 d-inline-block">
              <!-- <div class="position-relative">
                <input type="text" class="form-control" placeholder="Search..." [(ngModel)]="searchBox">
                <i class="bx bx-search-alt search-icon"></i>
              </div> -->

              <div class="position-relative">
                <input class="form-control mr-sm-4" type="text" placeholder="search"
                  oninput="let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);"
                  [formControl]="searchBox" aria-label="Search..." (click)="searchInTable()">
                <i class="bx bx-search-alt search-icon"></i>
              </div>

            </div>
          </div>
        </div>
        <div class="row" *ngIf="isOILBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;"><b>Date</b></th>
                    <th style="text-align: left;"><b>Transaction Type</b></th>
                    <th style="text-align: left;"><b>Details</b></th>
                    <th style="text-align: left;"><b>Debit</b></th>
                    <th style="text-align: left;"><b>Credit</b></th>
                    <th style="text-align: left;"><b>Closing Balance</b></th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of oilCoAccountingBookData ; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingOilCoDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingOilCoDb != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingOilCoCr == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingOilCoCr != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      {{data.clsBlcAmount | number:"1.2-2" }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="isBankBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;"><b>Date</b></th>
                    <th style="text-align: left;"><b>Transaction Type</b></th>
                    <th style="text-align: left;"><b>Details</b></th>
                    <th style="text-align: left;"><b>Debit</b></th>
                    <th style="text-align: left;"><b>Credit</b></th>
                    <th *ngIf="isBankBlc" style="text-align: left;"><b>Closing Balance</b></th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of bankAccountingBookData ; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingBankDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingBankDb != 'TRUE' ">
                        <span *ngIf="data.accountingLoanAccDb == 'TRUE' ">
                          {{data.accountingAmout | number:"1.2-2" }}
                        </span>
                        <span *ngIf="data.accountingLoanAccDb != 'TRUE' ">
                          0.00
                        </span>
                      </span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingBankCr == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingBankCr != 'TRUE' ">
                        <span *ngIf="data.accountingLoanAccCr == 'TRUE' ">
                          {{data.accountingAmout | number:"1.2-2" }}
                        </span>
                        <span *ngIf="data.accountingLoanAccCr != 'TRUE' ">
                          0.00
                        </span>
                      </span>
                    </td>
                    <td *ngIf="isBankBlc" style="text-align: left;">
                      {{data.clsBlcAmount | number:"1.2-2" }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="isPOSBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;"><b>Date</b></th>
                    <th style="text-align: left;"><b>Transaction Type</b></th>
                    <th style="text-align: left;"><b>Details</b></th>
                    <th style="text-align: left;"><b>Debit</b></th>
                    <th style="text-align: left;"><b>Credit</b></th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of posAccountingBookData  ; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingPOSDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingPOSDb != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      0.00
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="isCASHBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;"><b>Date</b></th>
                    <th style="text-align: left;"><b>Transaction Type</b></th>
                    <th style="text-align: left;"><b>Details</b></th>
                    <th style="text-align: left;"><b>Debit</b></th>
                    <th style="text-align: left;"><b>Credit</b></th>
                    <th style="text-align: left;"><b>Closing Balance</b></th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of cashAccountingBookData  ; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingCashDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingCashDb != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingCashCr == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingCashCr != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      {{data.clsBlcAmount | number:"1.2-2" }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <br>
      </span>
      <div class="row">
        <div class="col col-xl-12 col-lg-12">
          <div class="table-responsive mb-0">
            <table class="table table-centered table-nowrap" style="border: solid 1px;">
              <thead>
                <tr>
                  <th style="text-align: center;border: solid 1px;"><b> Book </b></th>
                  <th style="text-align: center;border: solid 1px;"><b>
                    Opening balance <br>
                    ( as of {{openingDate | date:"mediumDate"}} )</b>
                  </th>
                  <th style="text-align: center;border: solid 1px;"><b> Total Debit </b></th>
                  <th style="text-align: center;border: solid 1px;"><b> Total Credit </b></th>
                  <th style="text-align: center;border: solid 1px;"><b>
                    Closing Balance <br>
                    ( as of {{closingDate | date:"mediumDate"}} )</b>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="text-align: center;border: solid 1px;">
                    Oil Company
                  </td>
                  <td *ngIf="oilCoStatus" style="text-align: center;border: solid 1px;">
                    <span *ngIf="oilCoAcTotalAmount1 < 0" style="color: red;">
                      {{ oilCoAcTotalAmount1 | number:'1.2-2'}}
                    </span>
                    <span *ngIf="oilCoAcTotalAmount1 >= 0">
                      {{ oilCoAcTotalAmount1 | number:'1.2-2'}}
                    </span>
                  </td>
                  <td *ngIf="!oilCoStatus" style="text-align: center;">
                    -
                  </td>
                  <td style="text-align: center;border: solid 1px;">
                    {{totalOilCoACDebit | number:'1.2-2'}}
                  </td>
                  <td style="text-align: center;border: solid 1px;">
                    {{totalOilCoCredit | number:'1.2-2'}}
                  </td>
                  <td *ngIf="oilCoStatus" style="text-align: center;border: solid 1px;">
                    <span *ngIf="closingOilCoACBlc < 0" style="color: red;">
                      {{ closingOilCoACBlc | number:'1.2-2'}}
                    </span>
                    <span *ngIf="closingOilCoACBlc >= 0">
                      {{ closingOilCoACBlc | number:'1.2-2'}}
                    </span>
                  </td>
                  <td *ngIf="!oilCoStatus" style="text-align: center;border: solid 1px;">
                    -
                  </td>
                </tr>
                <tr *ngFor="let data of bankWiseDetailsOPEN">
                  <td style="text-align: center;border: solid 1px;">
                    {{data.bankName}} {{data.accountNumber}}
                  </td>
                  <td *ngIf="data.status != 'FALSE' " style="text-align: center;border: solid 1px;">
                    <span *ngIf="data.accType == 'LOAN' ">
                      <span
                        *ngIf="(data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr - data.totalOpeningCrPayment - data.totalOpeningCrPay) < 0"
                        style="color: red;">
                        {{ (data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr -
                        data.totalOpeningCrPayment - data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                      <span
                        *ngIf="(data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr - data.totalOpeningCrPayment - data.totalOpeningCrPay) >= 0">
                        {{ (data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr -
                        data.totalOpeningCrPayment - data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                    </span>
                    <span *ngIf="data.accType == 'SAVING' ">
                      <span
                        *ngIf="(data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr + data.totalOpeningCrPayment + data.totalOpeningCrPay) < 0"
                        style="color: red;">
                        {{ (data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr +
                        data.totalOpeningCrPayment + data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                      <span
                        *ngIf="(data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr + data.totalOpeningCrPayment + data.totalOpeningCrPay) >= 0">
                        {{ (data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr +
                        data.totalOpeningCrPayment + data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                    </span>
                  </td>
                  <td *ngIf="data.status == 'FALSE' " style="text-align: center;border: solid 1px;">
                    -
                  </td>
                  <td style="text-align: center;border: solid 1px;">
                    {{ data.totalDebit | number:'1.2-2'}}
                  </td>
                  <td style="text-align: center;border: solid 1px;">
                    {{ data.totalCredit + data.totalCreditPayment + data.totalCreditPay | number:'1.2-2'}}
                  </td>
                  <td *ngIf="data.status != 'FALSE' " style="text-align: center;border: solid 1px;">
                    <span *ngIf="data.accType == 'LOAN' ">
                      <span
                        *ngIf="(data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr - data.totalOpeningCrPayment + data.totalDebit - data.totalCredit - data.totalCreditPayment - data.totalOpeningCrPay) < 0"
                        style="color: red;">
                        {{ (data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr -
                        data.totalOpeningCrPayment + data.totalDebit - data.totalCredit - data.totalCreditPayment -
                        data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                      <span
                        *ngIf="(data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr - data.totalOpeningCrPayment + data.totalDebit - data.totalCredit - data.totalCreditPayment - data.totalOpeningCrPay) >= 0">
                        {{ (data.expenseAmount + data.totalOpeningDb - data.totalOpeningCr -
                        data.totalOpeningCrPayment + data.totalDebit - data.totalCredit - data.totalCreditPayment -
                        data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                    </span>
                    <span *ngIf="data.accType == 'SAVING' ">
                      <span
                        *ngIf="(data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr + data.totalOpeningCrPayment - data.totalDebit + data.totalCredit + data.totalCreditPayment + data.totalOpeningCrPay) < 0"
                        style="color: red;">
                        {{ (data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr +
                        data.totalOpeningCrPayment - data.totalDebit + data.totalCredit + data.totalCreditPayment +
                        data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                      <span
                        *ngIf="(data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr + data.totalOpeningCrPayment - data.totalDebit + data.totalCredit + data.totalCreditPayment + data.totalOpeningCrPay) >= 0">
                        {{ (data.expenseAmount - data.totalOpeningDb + data.totalOpeningCr +
                        data.totalOpeningCrPayment - data.totalDebit + data.totalCredit + data.totalCreditPayment +
                        data.totalOpeningCrPay) | number:'1.2-2'}}
                      </span>
                    </span>
                  </td>
                  <td *ngIf="data.status == 'FALSE' " style="text-align: center;border: solid 1px;">
                    -
                  </td>
                </tr>
                <tr>
                  <td style="text-align: center;border: solid 1px;">
                    Cash
                  </td>
                  <td *ngIf="cashStatus" style="text-align: center;border: solid 1px;">
                    <span *ngIf="cashAcTotalAmount1 < 0" style="color: red;">
                      {{ (cashAcTotalAmount1) | number:'1.2-2'}}
                    </span>
                    <span *ngIf="cashAcTotalAmount1 >= 0">
                      {{ cashAcTotalAmount1 | number:'1.2-2'}}
                    </span>
                  </td>
                  <td *ngIf="!cashStatus" style="text-align: center;border: solid 1px;">
                    -
                  </td>
                  <td style="text-align: center;border: solid 1px;">
                    {{totalCashACDebit | number:'1.2-2'}}
                  </td>
                  <td style="text-align: center;border: solid 1px;">
                    {{totalCashACCredit | number:'1.2-2'}}
                  </td>
                  <td *ngIf="cashStatus" style="text-align: center;border: solid 1px;">
                    <span *ngIf="closingCashACBlc < 0" style="color: red;">
                      {{ closingCashACBlc | number:'1.2-2'}}
                    </span>
                    <span *ngIf="closingCashACBlc >= 0">
                      {{ closingCashACBlc | number:'1.2-2'}}
                    </span>
                  </td>
                  <td *ngIf="!cashStatus" style="text-align: center;border: solid 1px;">
                    -
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <hr>
      <span *ngIf="!isFilter">
        <div class="row">
          <div class="col-sm-10">
            <div class="search-box me-4 mb-4 d-inline-block">
              <div class="position-relative">
                <input type="text" class="form-control" placeholder="Search..." [(ngModel)]="searchBox">
                <i class="bx bx-search-alt search-icon"></i>
              </div>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="isOILBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;"><b>Date</b></th>
                    <th style="text-align: left;"><b>Transaction Type</b></th>
                    <th style="text-align: left;"><b>Details</b></th>
                    <th style="text-align: left;"><b>Debit</b></th>
                    <th style="text-align: left;"><b>Credit</b></th>
                    <th style="text-align: left;"><b>Closing Balance</b></th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of oilCoAccountingBookData; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingOilCoDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingOilCoDb != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingOilCoCr == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingOilCoCr != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      {{data.clsBlcAmount | number:"1.2-2" }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="isBankBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;"><b>Date</b></th>
                    <th style="text-align: left;"><b>Transaction Type</b></th>
                    <th style="text-align: left;"><b>Details</b></th>
                    <th style="text-align: left;"><b>Debit</b></th>
                    <th style="text-align: left;"><b>Credit</b></th>
                    <th *ngIf="isBankBlc" style="text-align: left;"><b>Closing Balance</b></th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of bankAccountingBookData  ; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingBankDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingBankDb != 'TRUE' ">
                        <span *ngIf="data.accountingLoanAccDb == 'TRUE' ">
                          {{data.accountingAmout | number:"1.2-2" }}
                        </span>
                        <span *ngIf="data.accountingLoanAccDb != 'TRUE' ">
                          0.00
                        </span>
                      </span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingBankCr == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingBankCr != 'TRUE' ">
                        <span *ngIf="data.accountingLoanAccCr == 'TRUE' ">
                          {{data.accountingAmout | number:"1.2-2" }}
                        </span>
                        <span *ngIf="data.accountingLoanAccCr != 'TRUE' ">
                          0.00
                        </span>
                      </span>
                    </td>
                    <td *ngIf="isBankBlc" style="text-align: left;">
                      {{data.clsBlcAmount | number:"1.2-2" }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="isPOSBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;">Date</th>
                    <th style="text-align: left;">Transaction Type</th>
                    <th style="text-align: left;">Details</th>
                    <th style="text-align: left;">Debit</th>
                    <th style="text-align: left;">Credit</th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of posAccountingBookData  ; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingPOSDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingPOSDb != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      0.00
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="isCASHBook">
          <div class="col col-xl-12 col-lg-12">
            <div class="table-responsive mb-0">
              <table id="excel-table" class="table table-centered table-nowrap">
                <thead class="table-light">
                  <tr>
                    <th style="text-align: left;"><b>Date</b></th>
                    <th style="text-align: left;"><b>Transaction Type</b></th>
                    <th style="text-align: left;"><b>Details</b></th>
                    <th style="text-align: left;"><b>Debit</b></th>
                    <th style="text-align: left;"><b>Credit</b></th>
                    <th style="text-align: left;"><b>Closing Balance</b></th>
                  </tr>
                </thead>
                <tbody *ngFor="let data of cashAccountingBookData  ; let i = index">
                  <tr>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingDate == '2022-01-01' ">
                        1 Jan, 2022
                      </span>
                      <span *ngIf="data.accountingDate != '2022-01-01' ">
                        {{data.accountingDate | date:"d MMM, yyyy"}}
                      </span>
                    </td>
                    <td style="text-align: left;"> <b>{{data.accountingBook}}</b> {{data.accountingTransactionType}}
                    </td>
                    <td style="text-align: left;"> {{data.accountingDetails}}
                      <span *ngIf="data.paidFromBankId != '22' "><i>From</i>&nbsp; <b>{{data.accountingFromInput}}
                          {{data.paidFromAccountNumber}} {{data.paidFromBankName}}</b></span>
                      <span
                        *ngIf="data.paidFromBankId == '22' "><i>From</i>&nbsp;<b>{{data.accountingFromInput}}</b></span>
                      <span *ngIf="data.paidToBankId != '22' "> &nbsp; <i>To</i>&nbsp; <b>{{data.accountingToInput}}
                          {{data.paidToAccountNumber}} {{data.paidToBankName}}</b> </span>
                      <span *ngIf="data.paidToBankId == '22' "> &nbsp;
                        <i>To</i>&nbsp;<b>{{data.accountingToInput}}</b></span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingCashDb == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingCashDb != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      <span *ngIf="data.accountingCashCr == 'TRUE' ">
                        {{data.accountingAmout | number:"1.2-2" }}
                      </span>
                      <span *ngIf="data.accountingCashCr != 'TRUE' ">
                        0.00
                      </span>
                    </td>
                    <td style="text-align: left;">
                      {{data.clsBlcAmount | number:"1.2-2" }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </span>
    </div>
  </div>
</div>